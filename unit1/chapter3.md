# IP 地址规划设计技术

## 一些概念名词

* 子网 subnet
* 掩码 mask
* NAT 网络地址转换
* 无类域间路由 CIDR

## 标准分类的 IP 地址

IPv4 的地址长度为 32 bit

* A 类地址：1.0.0.0 ~ 127.255.255.255
* B 类地址：128.0.0.0 ~ 191.255.255.255
* C 类地址：192.0.0.0 ~ 223.255.255.255
* D 类地址：224.0.0.0 ~ 239.255.255.255
* E 类地址：240.0.0.0 ~ 247.255.255.255

### A 类地址

网络号（net ID）第一位为 0，其余 7 位可以分配

A 类地址共分为大小相同的 128（2^7）块，每一块的 net ID 不同

第一块：0.0.0.0 ~ 0.255.255.255 (net ID = 0)
最后一块：127.0.0.0 ~ 127.255.255.255 (net ID = 127)

第一块和最后一块地址留作特殊用途，net ID = 10 的 10.0.0.0 ~ 10.255.255.255 用于专用地址

主机号为全 0 和全 1 的两个地址保留用于特殊目的

### B 类地址

网络号长度为 14 位，网络号总数为 16384（2^14）；主机号（host ID）长度为 16 位

主机号为全 0 和全 1 的两个地址保留用于特殊目的

### C 类地址

网络号长度为 21 位，主机号长度为 8 位

主机号为全 0 和全 1 的两个地址保留用于特殊目的

### 特殊地址形式

特殊的 IP 地址包括：直接广播地址、受限广播地址、“这个网络上的特定主机”地址与回送地址

#### 直接广播地址

A、B、C 类 IP 地址中，主机号全位 1 的地址为直接广播地址，用来使路由器将一个分组以广播方式发送给特定网络上的所有主机

#### 受限广播地址

32 位全为 1 的 IP 地址（255.255.255.255）为受限广播地址，用来将一个分组以广播方式发送给本网络中的所有主机

#### “这个网络上的特定主机”地址

网络号全为 0

#### 回送地址

127.0.0.1

用于网络软件测试和本地进程间通信

## 划分子网的三级地址结构

地址结构：net ID - subnet ID - host ID

### 子网掩码

* 用点分十进制表示：255.255.252.0
* 用“/”加上网络号+子网号的长度：网络号/22

### 无类域间路由（CIDR）技术

CIDR 地址可以采用“斜线记法”，即在 IP 地址后面加一个斜线“/”，然后加上网络前缀所占的比特数

## IP 地址规划方法

### 基本步骤

* 判断用户对网络与主机数的需求
* 计算满足用户需求的基本网络地址结构
* 计算地址掩码
* 计算网络地址
* 计算网络广播地址
* 计算网络的主机地址