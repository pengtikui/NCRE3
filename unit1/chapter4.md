# 路由设计基础

## 分组转发的基本概念

是指在互联网络中路由器转发 IP 分组的物理传输过程与数据报转发机制

一台主机通常是与一台路由器相连接，这台路由器就是该主机的默认路由器，又称为第一跳路由器或缺省路由器

## 自治系统与 Internet 的路由选择协议

### 自治系统的基本概念

Internet 采用分层的路由选择协议，并且将整个 Internet 划分为许多较小的自治系统

它有权决定本系统内应采用何种路由选择协议

### Internet 路由选择协议的分类

分为两大类：内部网关协议（Interior Gateway Protocol, IGP）和外部网关协议（External Gateway Protocol, EGP）

内部网关协议主要有：路由信息协议（Routing Informantion Protocol, RIP）和开放最短路径优先（Open Shortest Path First, OSPF）

## 内部网关协议 IGP

### 路由信息协议（RIP）的基本概念

路由信息协议是内部网关协议中使用得最广泛的一种协议，它是一种分布式、基于距离向量的路由选择协议，其特点是协议简单

* 直径跳数（hop count）一般小于 15

## 最短路径优先协议 OSPF

* 分布式链路状态协议
* OSPF 协议将一个自治系统再划分为若干个更小的范围，叫做区域，每个区域又一个 32 位的区域标识符，在一个区域内的路由器数不超过 200 个

### 自治系统内部的区域划分

OSPF 协议使用层次结构的区域划分，将一个自治系统内部划分成若干区域与主干区域，主干区域连接多个区域，主干区域内部的路由器叫做主干路由器，连接各个区域的路由器叫做区域边界路由器

#### 网络运行过程

用洪泛法向全网更新链路状态