# 中小型网络系统总体规划与设计方法

## 基于网络的信息系统基本结构

一个基于网络的信息系统结构应该包括网络运行环境、网络系统、网络操作系统，以及基于网络操作系统的网络数据库管理系统、网络软件开发工具与网络应用系统，同时还有网络安全系统和网络管理系统。

### 网络运行环境

是指保障网络系统安全、可靠与正常运行所必需的基本设施与设备条件，主要包括机房与电源两个部分

* 机房是放置核心路由器、交换机、服务器等核心设备的场所，同时也包括各个建筑物中放置路由器、交换机与布线设施的设备间、配线室等场所
* 必须由专用的 UPS 系统供电

### 网络系统

包括网络传输基本设施、网络设备两部分

* 网络传输基本设施包括根据距离、带宽、电磁环境与地理环境的要求完成的室内结构化布线系统、建筑物结构化布线系统、城域网主干光缆系统、广域网传输线路、微波通信系统和卫星通信系统等
* 网络设备包括路由器、交换机、网关、网桥、集线器、中继器、收发器、网卡、Modem 和远程通信服务器等

## 网络需求调研与系统设计的基本原则

* 从充分调查入手，充分理解用户业务活动和用户信息需求
* 在调查、分析的基础上，在充分考虑需求与约束（经费、工作基础与技术等方面）的前提之下，对网络系统组建与信息系统开发的可行性进行充分地论证，避免盲目性
* 运用系统的观念，完成网络工程技术方案的规划和设计
* 大型网络系统的建设需要聘请专业的监理公司对项目执行的全过程进行监理
* 强调各阶段文档资料的完整性与规范性

## 网络用户调查与网络工程需求分析

### 网络结点地理位置分布情况

主要内容包括：

* 用户数量及分布的位置
* 建筑物内部结构情况调查
* 建筑物群情况调查

### 网络需求详细分析

主要包括：

* 网络总体需求分析
    * 网络用户数
    * 网络结点分布
    * 网络应用类型
    * 数据量
    * 数据交换量
* 综合布线需求分析
* 网络可用性与可靠性分析
* 网络安全性需求
* 网络工程造价估算

## 网络总体设计基本方法

### 网络工程建设总体目标与设计原则

实用性、开放性、高可靠性、安全性、先进性与可扩展性

### 网络结构与拓扑构型设计方法

大型和中型网络系统必须采用分层的设计思想，这是解决网络系统规模、结构和技术的复杂性的最有效方法

* 核心层网络用于连接服务器集群、各建筑物子网交换路由器，以及与城域网连接的出口
* 汇聚层网络用于将分布在不同位置的子网连接到核心层网络，实现路由汇聚的功能
* 接入层网络用于将终端用户计算机接入到网络之中

> 如果结点数为 250~5000 个，一般需要按 3 层结构来设计；如果结点数为 100~500 个，可以不必设计接入层网络，节点可直接通过汇聚层的路由器或交换机接入；如果结点数为 5~250 个，也可以不设计接入层与汇聚层网络

### 核心层网络结构设计

核心层网络一般要承担整个网络流量的 40%~60%

* 技术标准主要是 GE/10GE
* 核心设备是高性能交换路由器
* 连接核心路由器的是具有冗余链路的光纤

### 汇聚层网络与接入层网络结构设计

层次之间的上联带宽与下一级带宽只比一般控制在 1:20

## 网络关键设备选型

### 基本原则

* 产品系列与厂商的选择
* 网络的可扩展性考虑
* 网络技术先进性考虑

### 路由器选型的依据

#### 路由器的分类

* 高端路由器/高端核心路由器（背板交换能力大于 40Gbps）
* 中端路由器/企业级路由器（背板交换能力低于 40Gbps）
* 低端路由器

#### 路由器的关键技术指标

* 吞吐量（包转发能力）
* 背板能力（决定吞吐量）
* 丢包率
* 延时与延时抖动

    > 高速路由器一般要求长度为 1518B 的 IP 包延时要小于 1ms
* 突发处理能力
* 路由表容量
* 服务质量
* 网管能力
* 可靠性与可用性

    > 路由器的可靠性与可用性表现在：设备的冗余、热拔插组件、无故障工作时间、内部时钟精度等
    > 路由器的冗余是为了保证设备的可靠性与可用性，路由器的冗余表现在：接口冗余、电源冗余、系统板冗余、时钟板冗余、整机设备冗余等

## 网络服务器选型

从应用的角度看，网络服务器可以分为：文件服务器、数据库服务器、Internet 通用服务器与应用服务器等

> Internet 通用服务器主要包括：DNS 服务器、E-mail 服务器、FTP 服务器、WWW 服务器，以及远程通信服务器、代理服务器等

### 网络服务器性能

运算处理能力、磁盘存储能力、高可用性、数据吞吐能力、可管理性与可扩展性

CPU 的 50% 定律

系统高可用性 = 平均无故障时间/(平均无故障时间+平均修复时间)

可用性：
* 99.9% 每年停机时间小于等于 8.8 小时
* 99.99% 每年停机时间小于等于 53 分钟
* 99.999% 每年停机时间小于等于 5 分钟